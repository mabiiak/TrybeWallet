(this["webpackJsonpsd-0x-project-trybewallet"]=this["webpackJsonpsd-0x-project-trybewallet"]||[]).push([[0],{33:function(e,t,a){e.exports=a(53)},38:function(e,t,a){},45:function(e,t,a){},46:function(e,t,a){},48:function(e,t,a){},49:function(e,t,a){},53:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(18),l=a.n(c),i=a(20),o=(a(38),a(11)),s=a(2),u=a(16),d=a(3),m=a(4),h=a(12),p=a(6),b=a(5);a(45);var E=function(e){Object(p.a)(a,e);var t=Object(b.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){var e=this.props,t=e.type,a=e.dataTest,n=e.name,c=e.value,l=e.onChange,i=e.placeholder,o=e.nome;return r.a.createElement("label",{htmlFor:n},r.a.createElement("input",{className:o,type:t,id:n,"data-testid":a,name:n,value:c,placeholder:i,onChange:l}))}}]),a}(r.a.Component),v=function(e){Object(p.a)(a,e);var t=Object(b.a)(a);function a(){var e;return Object(d.a)(this,a),(e=t.call(this)).handleChange=e.handleChange.bind(Object(h.a)(e)),e.validate=e.validate.bind(Object(h.a)(e)),e.onClick=e.onClick.bind(Object(h.a)(e)),e.state={email:"",senha:"",disableButton:!0},window.alert("\n      Seja bem vindo ao TrybeWallet!\n      \n      Essa pagina n\xe3o faz a autentica\xe7\xe3o de usuarios.\n      Para realizar o login:\n      - insira um email\n      - insira uma senha com 6 digitos"),e}return Object(m.a)(a,[{key:"onClick",value:function(e){e.preventDefault();var t=this.props,a=t.history;(0,t.insertEmail)(this.state),a.push("/carteira")}},{key:"validate",value:function(){var e=this.state,t=e.email;e.senha.length>=6&&t.match(/\S+@\S+\.\S+/)?this.setState({disableButton:!1}):this.setState({disableButton:!0})}},{key:"handleChange",value:function(e){var t=this,a=e.target,n=a.value,r=a.name;this.setState(Object(u.a)({},r,n),(function(){return t.validate()}))}},{key:"render",value:function(){var e=this.state.disableButton;return r.a.createElement("form",{className:"pageLogin",onSubmit:this.onClick},r.a.createElement("span",{className:"emote",role:"img","aria-labelledby":"coin"},"\ud83d\udcb8"),r.a.createElement("div",null,r.a.createElement("h1",{className:"tittleLogin"},"TrybeWallet"),r.a.createElement(E,{nome:"mail",dataTest:"email-input",type:"email",name:"email",id:"email",placeholder:"Email",onChange:this.handleChange}),r.a.createElement(E,{nome:"senha",dataTest:"password-input",type:"password",id:"senha",name:"senha",placeholder:"Senha",onChange:this.handleChange}),r.a.createElement("button",{type:"submit",disabled:e},"Entrar")))}}]),a}(r.a.Component),f=Object(o.b)(null,(function(e){return{insertEmail:function(t){return e(function(e){return{type:"NEW_EMAIL",state:e}}(t))}}}))(v),g=(a(46),function(e){Object(p.a)(a,e);var t=Object(b.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){var e=this.props,t=e.email,a=e.expensesValues,n=0,c="",l=0;return a.map((function(e){return n=Number(e.value),c=Object.values(e.exchangeRates).find((function(t){return t.code===e.currency})).ask,l+=n*Number(c)})),r.a.createElement("div",{className:"headerInfo"},r.a.createElement("span",{role:"img","aria-labelledby":"coin"},"\ud83d\udcb8"),r.a.createElement("p",{"data-testid":"email-field"},t),console.log(a),r.a.createElement("p",{"data-testid":"total-field"},l.toFixed(2)),r.a.createElement("p",{"data-testid":"header-currency-field"},"BRL"))}}]),a}(r.a.Component)),y=Object(o.b)((function(e){return{email:e.user.email,expensesValues:e.wallet.expenses}}),null)(g),j=a(22),O=a.n(j),C=a(29),k=(a(48),function(e){Object(p.a)(a,e);var t=Object(b.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){var e=this.props,t=e.dataTest,a=e.id,n=e.name,c=e.onChange,l=e.value,i=e.arrayOptions;return r.a.createElement("label",{htmlFor:a},a,r.a.createElement("select",{"data-testid":t,id:a,name:n,onChange:c,value:l},i.map((function(e){return r.a.createElement("option",{key:e},e)}))))}}]),a}(r.a.Component)),x=function(e){Object(p.a)(a,e);var t=Object(b.a)(a);function a(){var e;return Object(d.a)(this,a),(e=t.call(this)).state={despesas:[],value:"",description:"",method:"",tag:"",currency:"",id:0,exchangeRates:""},e.handleChange=e.handleChange.bind(Object(h.a)(e)),e.onClick=e.onClick.bind(Object(h.a)(e)),e.atribuiExchanges=e.atribuiExchanges.bind(Object(h.a)(e)),e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.atribuiExchanges()}},{key:"onClick",value:function(e){e.preventDefault();var t=this.props,a=t.createExpense,n=t.objCurrence,r=this.state,c=r.despesas,l=r.value,i=r.description,o=r.method,s=r.tag,u=r.currency,d=r.id,m=r.exchangeRates;n(),this.setState((function(e){return{id:c.length+1,despesas:[e.despesas,{value:l,description:i,method:o,tag:s,currency:u,id:d}],value:"",description:"",method:"",tag:"",currency:""}})),a({value:l,description:i,method:o,tag:s,currency:u,id:d,exchangeRates:m})}},{key:"atribuiExchanges",value:function(){var e=Object(C.a)(O.a.mark((function e(){var t,a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.objCurrence,e.next=3,t();case 3:a=e.sent,this.setState({exchangeRates:a.payload});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleChange",value:function(e){var t=e.target,a=t.name,n=t.value;this.setState(Object(u.a)({},a,n))}},{key:"render",value:function(){var e=this.props.nameCurrences,t=this.state,a=t.value,n=t.description,c=t.method,l=t.tag,i=t.currency,o=[];return r.a.createElement("form",{className:"despesas"},r.a.createElement(E,{type:"text",dataTest:"description-input",name:"description",value:n,placeholder:"Descri\xe7\xe3o",onChange:this.handleChange}),r.a.createElement(k,{dataTest:"tag-input",id:"Tag",name:"tag",onChange:this.handleChange,value:l,arrayOptions:["Alimenta\xe7\xe3o","Lazer","Trabalho","Transporte","Sa\xfade"]}),r.a.createElement(k,{dataTest:"method-input",id:"M\xe9todo de pagamento",name:"method",onChange:this.handleChange,value:c,arrayOptions:["Dinheiro","Cart\xe3o de cr\xe9dito","Cart\xe3o de d\xe9bito"]}),r.a.createElement(E,{type:"number",dataTest:"value-input",name:"value",value:a,placeholder:"Valor",onChange:this.handleChange}),r.a.createElement(k,Object.assign({dataTest:"currency-input",id:"moeda",name:"currency",onChange:this.handleChange,value:i,arrayOptions:o},e.map((function(e){return o.push(e)})))),r.a.createElement("button",{type:"submit",onClick:this.onClick},"Adicionar despesa"))}}]),a}(r.a.Component),N=Object(o.b)((function(e){return{nameCurrences:e.wallet.currencies}}),(function(e){return{objCurrence:function(){return e((function(e){return fetch("https://economia.awesomeapi.com.br/json/all").then((function(t){return t.json().then((function(t){return e(function(e){return{type:"RECEIVE_CURRENCIE",payload:e}}(t))}))}))}))},createExpense:function(t){return e({type:"NEW_EXPENSE",despesa:t})}}}))(x),w=(a(49),function(e){Object(p.a)(a,e);var t=Object(b.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){var e=this.props.despesas;return r.a.createElement("table",{className:"table"},r.a.createElement("thead",{className:"cabecalho"},r.a.createElement("th",null,"Descri\xe7\xe3o"),r.a.createElement("th",null,"Tag"),r.a.createElement("th",null,"M\xe9todo de pagamento"),r.a.createElement("th",null,"Valor"),r.a.createElement("th",null,"Moeda"),r.a.createElement("th",null,"C\xe2mbio utilizado"),r.a.createElement("th",null,"Valor convertido"),r.a.createElement("th",null,"Moeda de convers\xe3o"),r.a.createElement("th",null,"Editar/Excluir")),r.a.createElement("tbody",{className:"detalhes"},e.map((function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",null,e.description),r.a.createElement("td",null,e.tag),r.a.createElement("td",{className:"method"},e.method),r.a.createElement("td",{className:"value"},e.value),r.a.createElement("td",{className:"currency-name"},e.exchangeRates[e.currency].name),r.a.createElement("td",null,Number(e.exchangeRates[e.currency].ask).toFixed(2)),r.a.createElement("td",{className:"value-BR"},Number(e.value*e.exchangeRates[e.currency].ask).toFixed(2)),r.a.createElement("td",null,"Real"),r.a.createElement("td",null,r.a.createElement("button",{type:"button"},"Editar/Excluir")))}))))}}]),a}(r.a.Component)),R=Object(o.b)((function(e){return{despesas:e.wallet.expenses}}),null)(w),S=function(e){Object(p.a)(a,e);var t=Object(b.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(y,null),r.a.createElement(N,null),r.a.createElement(R,null))}}]),a}(r.a.Component);var T=function(){return r.a.createElement(s.c,null,r.a.createElement(s.a,{exact:!0,path:"/",component:f}),r.a.createElement(s.a,{path:"/carteira",component:S}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var W=a(13),B=a(30),D=a(31),I=a(14),M={email:""};var V=a(32),L={currencies:[],expenses:[]};var _=Object(W.combineReducers)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"NEW_EMAIL":return Object(I.a)(Object(I.a)({},e),{},{email:t.state.email});default:return e}},wallet:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"NEW_EXPENSE":return Object(I.a)(Object(I.a)({},e),{},{expenses:[].concat(Object(V.a)(e.expenses),[t.despesa])});case"RECEIVE_CURRENCIE":return Object(I.a)(Object(I.a)({},e),{},{currencies:Object.keys(t.payload).filter((function(e){return"USDT"!==e}))});default:return e}}}),F=Object(W.createStore)(_,Object(B.composeWithDevTools)(Object(W.applyMiddleware)(D.a)));l.a.render(r.a.createElement(o.a,{store:F},r.a.createElement(i.a,null,r.a.createElement(T,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[33,1,2]]]);
//# sourceMappingURL=main.4d83243d.chunk.js.map